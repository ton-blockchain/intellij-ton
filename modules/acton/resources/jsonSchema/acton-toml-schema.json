{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Acton Configuration Schema",
    "description": "JSON schema for Acton.toml configuration file",
    "type": "object",
    "required": ["package"],
    "properties": {
      "package": {
        "type": "object",
        "description": "Package metadata for the Acton project",
        "required": ["name", "description", "version"],
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the project"
          },
          "description": {
            "type": "string",
            "description": "A short description of the project"
          },
          "version": {
            "type": "string",
            "description": "The current version of the project",
            "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+(-.*)?$"
          },
          "license": {
            "type": "string",
            "description": "The project's license (e.g., MIT, Apache-2.0)"
          }
        },
        "additionalProperties": false
      },
      "test": {
        "type": "object",
        "description": "Default settings for the test runner",
        "properties": {
          "filter": {
            "type": "string",
            "description": "Regex pattern to filter test names"
          },
          "reporter": {
            "type": "array",
            "description": "List of test reporters to use",
            "items": {
              "type": "string",
              "enum": ["console", "teamcity", "junit", "dot"]
            }
          },
          "debug": {
            "type": "boolean",
            "description": "Enable debug mode for tests"
          },
          "debug-port": {
            "type": "integer",
            "description": "Port for the debug server",
            "minimum": 0,
            "maximum": 65535,
            "default": 12345
          },
          "backtrace": {
            "type": "string",
            "description": "Enable stack traces (e.g., 'full')"
          },
          "coverage": {
            "type": "boolean",
            "description": "Enable code coverage reporting"
          },
          "coverage-format": {
            "type": "string",
            "description": "Format for coverage reports (e.g., 'lcov')",
            "default": "lcov"
          },
          "coverage-file": {
            "type": "string",
            "description": "Path to save the coverage report"
          },
          "exclude": {
            "type": "array",
            "description": "Glob patterns to exclude from testing",
            "items": {
              "type": "string"
            }
          },
          "include": {
            "type": "array",
            "description": "Glob patterns to include in testing",
            "items": {
              "type": "string"
            }
          },
          "junit-path": {
            "type": "string",
            "description": "Directory for JUnit XML reports"
          },
          "junit-merge": {
            "type": "boolean",
            "description": "Merge all test suites into a single JUnit file"
          },
          "fork-net": {
            "type": "string",
            "description": "Network to fork for testing (e.g., 'mainnet', 'testnet')"
          },
          "api-key": {
            "type": "string",
            "description": "API key for the network provider when forking"
          },
          "fork-block-number": {
            "type": "integer",
            "description": "Specific block number to fork from",
            "minimum": 0
          },
          "mutation": {
            "type": "object",
            "description": "Configuration for mutation testing",
            "properties": {
              "disable-rules": {
                "type": "array",
                "description": "List of mutation rules to disable",
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false
          },
          "fail-fast": {
            "type": "boolean",
            "description": "Stop test execution after the first failure"
          }
        },
        "additionalProperties": false
      },
      "contracts": {
        "type": "object",
        "description": "Definition of contracts in the project",
        "additionalProperties": {
          "type": "object",
          "required": ["name", "src"],
          "properties": {
            "name": {
              "type": "string",
              "description": "Human-readable name of the contract"
            },
            "src": {
              "type": "string",
              "description": "Path to the contract source (.tolk) or precompiled (.boc) file"
            },
            "depends": {
              "type": "array",
              "description": "Dependencies of this contract",
              "items": {
                "anyOf": [
                  {
                    "type": "string",
                    "description": "Name of the contract to depend on (simple format)"
                  },
                  {
                    "type": "object",
                    "description": "Detailed dependency configuration",
                    "required": ["name"],
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "Name of the contract to depend on"
                      },
                      "kind": {
                        "type": "string",
                        "description": "Dependency type",
                        "enum": ["embed_code", "library_ref"],
                        "default": "embed_code"
                      },
                      "function": {
                        "type": "string",
                        "description": "Custom name for the generated code function"
                      },
                      "path": {
                        "type": "string",
                        "description": "Custom output path for the generated code file"
                      }
                    },
                    "additionalProperties": false
                  }
                ]
              }
            },
            "output": {
              "type": "string",
              "description": "Path where the compiled .boc should be saved"
            }
          },
          "additionalProperties": false
        }
      },
      "scripts": {
        "type": "object",
        "description": "Custom scripts that can be run with 'acton run'",
        "additionalProperties": {
          "type": "string"
        }
      }
    },
    "additionalProperties": false
  }
  